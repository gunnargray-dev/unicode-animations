<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>unicode-animations</title>
  <style>
    :root {
      --bg: #131316;
      --surface: #1e1e23;
      --border: #2e2e36;
      --text: #d8d8df;
      --text-2: #a4a4b0;
      --text-3: #6e6e80;
      --accent: #a78bfa;
      --mono: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Menlo', monospace;
      --sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    [data-theme="light"] {
      --bg: #f7f7fa;
      --surface: #ffffff;
      --border: #e8e8ec;
      --text: #2c2c3a;
      --text-2: #6b6b7b;
      --text-3: #9d9daa;
      --accent: #7c3aed;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: var(--sans);
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      transition: background 0.3s, color 0.3s;
    }

    .theme-toggle {
      position: fixed; top: 1rem; right: 1.5rem; z-index: 100;
      background: var(--surface); border: 1px solid var(--border);
      border-radius: 8px; padding: 0.4rem 0.75rem;
      cursor: pointer; font-size: 0.75rem; font-weight: 500;
      color: var(--text-2); display: flex; align-items: center; gap: 0.4rem;
      transition: border-color 0.2s;
    }
    .theme-toggle:hover { border-color: var(--text-2); }

    header {
      text-align: center;
      padding: 4rem 2rem 1rem;
    }
    header h1 {
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: -0.03em;
    }
    header p {
      margin-top: 0.4rem;
      color: var(--text-3);
      font-size: 0.95rem;
    }

    .install {
      text-align: center;
      margin: 1.5rem 0 3rem;
    }
    .install code {
      font-family: var(--mono);
      font-size: 0.85rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.5rem 1.25rem;
      color: var(--text-2);
    }

    main {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 1.5rem 6rem;
    }

    .section-label {
      font-size: 0.65rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-3);
      margin-bottom: 1rem;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }
    @media (max-width: 520px) { .grid { grid-template-columns: 1fr; } }

    .spinner-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.6rem 1rem;
      border-bottom: 1px solid var(--border);
      transition: background 0.15s;
    }
    .spinner-row:hover { background: var(--surface); }

    .spinner-frame {
      font-family: var(--mono);
      font-size: 1rem;
      width: 5rem;
      text-align: center;
      flex-shrink: 0;
      color: var(--accent);
      white-space: nowrap;
    }

    .spinner-name {
      font-weight: 500;
      font-size: 0.85rem;
      white-space: nowrap;
    }

    .spinner-meta {
      font-size: 0.75rem;
      color: var(--text-3);
      margin-left: auto;
      white-space: nowrap;
    }

    .usage {
      margin-top: 3rem;
    }
    .usage pre {
      font-family: var(--mono);
      font-size: 0.8rem;
      line-height: 1.6;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem 1.5rem;
      overflow-x: auto;
      color: var(--text-2);
    }
    .usage pre .kw { color: #c084fc; }
    .usage pre .str { color: #86efac; }
    .usage pre .cm { color: var(--text-3); }

    footer {
      text-align: center;
      padding: 2rem;
      font-size: 0.75rem;
      color: var(--text-3);
    }
    footer a { color: var(--accent); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>

  <button class="theme-toggle" id="toggle">
    <span id="toggleIcon">☀</span>
    <span id="toggleLabel">Light</span>
  </button>

  <header>
    <h1>unicode-animations</h1>
    <p>18 braille spinner animations as raw frame data</p>
  </header>

  <div class="install">
    <code>npm install unicode-animations</code>
  </div>

  <main>
    <section>
      <div class="section-label">All braille spinners</div>
      <div class="grid" id="spinnerGrid"></div>
    </section>

    <section class="usage">
      <div class="section-label" style="margin-bottom: 1rem;">Usage</div>
      <pre><span class="kw">import</span> spinners <span class="kw">from</span> <span class="str">'unicode-animations'</span>

<span class="kw">const</span> { frames, interval } = spinners.braille
<span class="kw">let</span> i = 0

<span class="kw">const</span> timer = setInterval(() => {
  process.stdout.write(<span class="str">`\r${frames[i++ % frames.length]} Loading...`</span>)
}, interval)

<span class="kw">await</span> doWork()
clearInterval(timer)
process.stdout.write(<span class="str">'\r✔ Done.\n'</span>)</pre>
    </section>
  </main>

  <footer>
    <a href="https://github.com/gunnargray-dev/unicode-animations">GitHub</a>
    &nbsp;·&nbsp; MIT License
  </footer>

<script src="../dist/braille.global.js"></script>
<script>
// Filter to braille spinners only (exclude classic unicode)
const nonBraille = new Set(['arc', 'halfmoon', 'line', 'blocks']);
const spinners = Object.fromEntries(
  Object.entries(UnicodeAnimations.spinners).filter(([name]) => !nonBraille.has(name))
);

// Build grid
const grid = document.getElementById('spinnerGrid');
const els = {};

Object.entries(spinners).forEach(([name, s]) => {
  const row = document.createElement('div');
  row.className = 'spinner-row';

  const frame = document.createElement('span');
  frame.className = 'spinner-frame';
  frame.textContent = s.frames[0];

  const label = document.createElement('span');
  label.className = 'spinner-name';
  label.textContent = name;

  const meta = document.createElement('span');
  meta.className = 'spinner-meta';
  meta.textContent = `${s.frames.length}f · ${s.interval}ms`;

  row.append(frame, label, meta);
  grid.appendChild(row);
  els[name] = frame;
});

// Animate — group by interval for efficiency
const byInterval = {};
Object.entries(spinners).forEach(([name, s]) => {
  if (!byInterval[s.interval]) byInterval[s.interval] = [];
  byInterval[s.interval].push({ name, frames: s.frames, i: 0 });
});

Object.entries(byInterval).forEach(([interval, group]) => {
  setInterval(() => {
    group.forEach(s => {
      s.i = (s.i + 1) % s.frames.length;
      els[s.name].textContent = s.frames[s.i];
    });
  }, Number(interval));
});

// Theme toggle
const toggle = document.getElementById('toggle');
const icon = document.getElementById('toggleIcon');
const label = document.getElementById('toggleLabel');
toggle.addEventListener('click', () => {
  const dark = document.documentElement.dataset.theme === 'dark';
  document.documentElement.dataset.theme = dark ? 'light' : 'dark';
  icon.textContent = dark ? '☾' : '☀';
  label.textContent = dark ? 'Dark' : 'Light';
});
</script>
</body>
</html>
